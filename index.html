<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube to iTabs Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
    }

    .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        overflow: hidden;
    }

    .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
    }

    .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        font-weight: 700;
    }

    .header p {
        font-size: 1.1em;
        opacity: 0.95;
    }

    .content {
        padding: 40px;
    }

    .input-section {
        margin-bottom: 30px;
    }

    label {
        display: block;
        font-weight: 600;
        margin-bottom: 10px;
        color: #333;
        font-size: 1.1em;
    }

    input[type="text"] {
        width: 100%;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 1em;
        transition: border-color 0.3s;
    }

    input[type="text"]:focus {
        outline: none;
        border-color: #667eea;
    }

    .button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.1em;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 600;
        transition: transform 0.2s, box-shadow 0.2s;
        width: 100%;
    }

    .button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
    }

    .button:active {
        transform: translateY(0);
    }

    .button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }

    .status {
        margin-top: 20px;
        padding: 15px;
        border-radius: 10px;
        font-weight: 500;
        display: none;
    }

    .status.loading {
        background: #e3f2fd;
        color: #1976d2;
        display: block;
    }

    .status.success {
        background: #e8f5e9;
        color: #2e7d32;
        display: block;
    }

    .status.error {
        background: #ffebee;
        color: #c62828;
        display: block;
    }

    .output-section {
        margin-top: 30px;
        display: none;
    }

    .output-section.visible {
        display: block;
    }

    .output-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }

    .output-header h2 {
        color: #333;
        font-size: 1.5em;
    }

    .copy-button {
        background: #4caf50;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.3s;
    }

    .copy-button:hover {
        background: #45a049;
    }

    textarea {
        width: 100%;
        min-height: 400px;
        padding: 20px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
        line-height: 1.6;
        resize: vertical;
    }

    .info-box {
        background: #f5f5f5;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 30px;
        border-left: 4px solid #667eea;
    }

    .info-box h3 {
        color: #667eea;
        margin-bottom: 10px;
        font-size: 1.2em;
    }

    .info-box p {
        color: #666;
        line-height: 1.6;
    }

    .spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #667eea;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        animation: spin 1s linear infinite;
        display: inline-block;
        margin-right: 10px;
        vertical-align: middle;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¬ YouTube to iTabs Generator</h1>
            <p>Transform YouTube videos into interactive information tabs</p>
        </div>

```
    <div class="content">
        <div class="info-box">
            <h3>How This Works</h3>
            <p>Enter a YouTube video URL and paste the video transcript below. To get the transcript from YouTube, click the three dots (...) below any video and select "Show transcript", then copy and paste it here. The generator will analyze the transcript with AI and create ready-to-use iTabs code that adds interactive information popups to your content.</p>
        </div>

        <div class="input-section">
            <label for="youtubeUrl">YouTube Video URL</label>
            <input 
                type="text" 
                id="youtubeUrl" 
                placeholder="https://www.youtube.com/watch?v=..." 
                value="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            >
        </div>

        <div class="input-section">
            <label for="transcript">Video Transcript</label>
            <textarea 
                id="transcript" 
                placeholder="Paste the video transcript here... (Get it from YouTube by clicking the three dots below the video and selecting 'Show transcript')"
                style="min-height: 200px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1em; width: 100%; resize: vertical;"
            >This is a demonstration video about productivity tips. First, we discuss time management techniques that successful people use every day. The Pomodoro Technique involves working in focused 25-minute intervals. Then we cover organization systems like Getting Things Done and the Eisenhower Matrix for prioritizing tasks. Finally, we explore digital tools like Notion and Todoist that can transform how you manage your daily workflow.</textarea>
        </div>

        <button class="button" id="generateBtn" onclick="generateITabs()">
            Generate iTabs
        </button>

        <div class="status" id="status"></div>

        <div class="output-section" id="outputSection">
            <div class="output-header">
                <h2>Generated iTabs Code</h2>
                <button class="copy-button" onclick="copyToClipboard()">Copy Code</button>
            </div>
            <textarea id="output" readonly></textarea>
        </div>
    </div>
</div>

<script>
    const GEMINI_API_KEY = 'AIzaSyCUL2-QM0aFpda5ENd3fWmgZZwQXXrDgcQ';
    const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent';

    async function generateITabs() {
        const youtubeUrl = document.getElementById('youtubeUrl').value.trim();
        const transcript = document.getElementById('transcript').value.trim();
        const statusDiv = document.getElementById('status');
        const outputSection = document.getElementById('outputSection');
        const generateBtn = document.getElementById('generateBtn');
        
        // Reset output
        outputSection.classList.remove('visible');
        
        // Validate inputs
        if (!youtubeUrl) {
            showStatus('Please enter a YouTube URL', 'error');
            return;
        }

        if (!transcript) {
            showStatus('Please paste the video transcript', 'error');
            return;
        }

        // Disable button and show loading
        generateBtn.disabled = true;
        showStatus('<div class="spinner"></div>Analyzing transcript with AI...', 'loading');

        try {
            // Generate iTabs with Gemini
            const iTabs = await generateITabsWithGemini(transcript, youtubeUrl);
            
            // Display result
            document.getElementById('output').value = iTabs;
            outputSection.classList.add('visible');
            showStatus('iTabs generated successfully! Copy the code and use it on your website.', 'success');
            
        } catch (error) {
            console.error('Error:', error);
            showStatus('Error: ' + error.message, 'error');
        } finally {
            generateBtn.disabled = false;
        }
    }

    async function generateITabsWithGemini(transcript, videoUrl) {
        const prompt = `You are an expert at creating interactive information tabs (iTabs) for YouTube videos.
```

Analyze this video transcript and create 3-5 iTabs that would help viewers understand key topics, products, people, or concepts mentioned in the video.

VIDEO TRANSCRIPT:
${transcript}

For each iTabs, provide:

1. A short title (2-4 words)
1. A detailed description (2-3 sentences)
1. Any relevant facts or details

Format your response as a JSON array like this:
[
{
â€œtitleâ€: â€œTopic Nameâ€,
â€œdescriptionâ€: â€œDetailed explanation of the topicâ€¦â€,
â€œdetailsâ€: â€œAdditional relevant informationâ€¦â€
}
]

Create iTabs that would genuinely help viewers understand the video content better.`;

```
        try {
            const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: prompt
                        }]
                    }]
                })
            });

            if (!response.ok) {
                throw new Error('Failed to generate iTabs with Gemini');
            }

            const data = await response.json();
            const aiResponse = data.candidates[0].content.parts[0].text;
            
            // Extract JSON from response
            const jsonMatch = aiResponse.match(/\[[\s\S]*\]/);
            let iTabs;
            
            if (jsonMatch) {
                iTabs = JSON.parse(jsonMatch[0]);
            } else {
                // Fallback to sample iTabs if parsing fails
                iTabs = [
                    {
                        title: "Video Topic",
                        description: "This is the main topic discussed in the video.",
                        details: "Key points and relevant information about the topic."
                    }
                ];
            }

            return generateITabsCode(iTabs, videoUrl);

        } catch (error) {
            console.error('Gemini API error:', error);
            throw new Error('Failed to generate iTabs. Please try again.');
        }
    }

    function generateITabsCode(iTabs, videoUrl) {
        const iTabsArray = iTabs.map((tab, index) => {
            return `    {
    id: "itab-${index + 1}",
    title: "${tab.title}",
    content: \`
        <h3>${tab.title}</h3>
        <p>${tab.description}</p>
        ${tab.details ? `<p><strong>Details:</strong> ${tab.details}</p>` : ''}
    \`
}`;
        }).join(',\n');

        return `<!-- iTabs System for YouTube Video -->
```

<!-- Generated by YouTube to iTabs Generator -->

<!-- Video URL: ${videoUrl} -->

<script>
// iTabs Database
const iTabsData = [
${iTabsArray}
];

// iTabs System Code
(function() {
    // Create iTabs popup container
    const popup = document.createElement('div');
    popup.id = 'itabs-popup';
    popup.style.cssText = \`
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        max-width: 500px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        z-index: 10000;
        padding: 30px;
        animation: slideIn 0.3s ease-out;
    \`;

    // Create overlay
    const overlay = document.createElement('div');
    overlay.id = 'itabs-overlay';
    overlay.style.cssText = \`
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.6);
        z-index: 9999;
    \`;

    document.body.appendChild(overlay);
    document.body.appendChild(popup);

    // Add CSS animation
    const style = document.createElement('style');
    style.textContent = \`
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }
        .itabs-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            margin: 0 3px;
            transition: transform 0.2s;
            vertical-align: middle;
        }
        .itabs-icon:hover {
            transform: scale(1.2);
        }
        #itabs-popup h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        #itabs-popup p {
            line-height: 1.6;
            color: #333;
            margin-bottom: 15px;
        }
    \`;
    document.head.appendChild(style);

    // Show iTabs function
    window.showITab = function(id) {
        const data = iTabsData.find(item => item.id === id);
        if (data) {
            popup.innerHTML = \`
                <button onclick="closeITab()" style="
                    position: absolute;
                    top: 15px;
                    right: 15px;
                    background: none;
                    border: none;
                    font-size: 24px;
                    cursor: pointer;
                    color: #999;
                ">&times;</button>
                \${data.content}
            \`;
            popup.style.display = 'block';
            overlay.style.display = 'block';
        }
    };

    // Close iTabs function
    window.closeITab = function() {
        popup.style.display = 'none';
        overlay.style.display = 'none';
    };

    // Close on overlay click
    overlay.onclick = closeITab;
})();
</script>

<!-- Example Usage in Your Content -->

<!-- Place these iTabs icons next to relevant words or phrases -->

<p>
    This video covers 
    <span class="itabs-icon" onclick="showITab('itab-1')">i</span>
    and other related topics
    <span class="itabs-icon" onclick="showITab('itab-2')">i</span>
    that viewers find valuable.
</p>`;
        }

```
    function showStatus(message, type) {
        const statusDiv = document.getElementById('status');
        statusDiv.innerHTML = message;
        statusDiv.className = 'status ' + type;
    }

    function copyToClipboard() {
        const output = document.getElementById('output');
        output.select();
        document.execCommand('copy');
        
        const copyBtn = event.target;
        const originalText = copyBtn.textContent;
        copyBtn.textContent = 'Copied!';
        setTimeout(() => {
            copyBtn.textContent = originalText;
        }, 2000);
    }

    // Allow Enter key to trigger generation
    document.getElementById('youtubeUrl').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            generateITabs();
        }
    });
</script>
```

</body>
</html>
